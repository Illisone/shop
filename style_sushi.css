/* ПЕРЕМЕННЫЕ И ОСНОВА */
:root {
    --bg: #000000;
    --card: rgba(28, 28, 30, 0.7);
    --accent: #FF2D55;
    --text: #ffffff;
    --gray: #8E8E93;
    --glass-bg: rgba(18, 18, 20, 0.9);
    --glass-border: rgba(255, 255, 255, 0.08);
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif;
    background: var(--bg);
    color: var(--text);
    margin: 0; padding: 0;
    overflow-x: hidden;
    -webkit-tap-highlight-color: transparent;
}

/* ФИКСИРОВАННЫЯ ШАПКА */
.header {
    position: fixed; top: 0; left: 0; right: 0;
    z-index: 1500; /* Выше всего контента */
    background: var(--glass-bg);
    backdrop-filter: blur(25px);
    -webkit-backdrop-filter: blur(25px);
    padding: 12px 20px;
    display: flex; align-items: center; justify-content: space-between;
    border-bottom: 0.5px solid var(--glass-border);
}

.main-content { 
    padding-top: 75px; /* Чтобы контент не уходил под шапку */
}

/* ПРОМО-АКЦИИ (ЗАМАНУХА) */
.promo-container {
    display: flex; overflow-x: auto; gap: 12px; padding: 15px 20px;
    scrollbar-width: none;
}
.promo-container::-webkit-scrollbar { display: none; }

.promo-card {
    min-width: 85%; height: 140px; border-radius: 28px;
    background: linear-gradient(135deg, #FF2D55 0%, #ff5e7d 100%);
    padding: 22px; box-sizing: border-box; position: relative;
    box-shadow: 0 10px 20px rgba(255, 45, 85, 0.2);
}
.promo-card.dark { 
    background: #1c1c1e; 
    border: 1px solid var(--glass-border); 
    box-shadow: none;
}

/* ГРИД И КАРТОЧКИ */
.grid { 
    display: grid; grid-template-columns: 1fr 1fr; gap: 14px; 
    padding: 10px 20px 140px; 
}

.item {
    background: var(--card); border-radius: 26px; padding: 12px;
    border: 1px solid var(--glass-border); backdrop-filter: blur(10px);
    display: flex; flex-direction: column;
    transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}
.item:active { transform: scale(0.96); }

.item-img { 
    width: 100%; aspect-ratio: 1/1; border-radius: 20px; 
    object-fit: cover; margin-bottom: 10px;
}

/* ШТОРКА (BOTTOM SHEET) — ТУТ ВСЯ МАГИЯ */
.sheet {
    position: fixed; bottom: 0; left: 0; right: 0;
    background: #1c1c1e;
    border-radius: 32px 32px 0 0;
    padding: 20px 20px 40px;
    z-index: 3000; /* Самый высокий приоритет */
    transform: translateY(105%); /* Полностью спрятана */
    transition: transform 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
    max-height: 85vh; /* Ограничение высоты */
    overflow-y: auto; /* Внутренний скролл */
    border-top: 1px solid var(--glass-border);
    box-shadow: 0 -10px 40px rgba(0,0,0,0.5);
}
.sheet.active { transform: translateY(0); }

.overlay {
    position: fixed; inset: 0; background: rgba(0,0,0,0.7);
    backdrop-filter: blur(8px); opacity: 0; visibility: hidden;
    z-index: 2500; transition: 0.3s;
}
.overlay.active { opacity: 1; visibility: visible; }

/* КНОПКА ЗАКАЗА */
.btn-order {
    width: 100%; background: var(--accent); color: white; border: none;
    padding: 20px; border-radius: 22px; font-weight: 800; font-size: 16px;
    margin-top: 20px; transition: 0.2s;
}
.btn-order:active { transform: scale(0.97); opacity: 0.9; }

/* ТАБ-БАР */
.tab-bar {
    position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
    background: rgba(30, 30, 32, 0.85); backdrop-filter: blur(25px);
    border-radius: 40px; padding: 6px; display: flex; z-index: 1000;
    border: 1px solid var(--glass-border);
}
.tab-item { padding: 12px 24px; border-radius: 35px; font-size: 14px; font-weight: 700; color: var(--gray); }
.tab-item.active { background: rgba(255,255,255,0.1); color: white; }